**网络体系结构（5层）、各层协议、典型网络、网络设备**
# 概述
![QQ截图20200918194716.jpg](https://i.loli.net/2020/09/18/oJ3M5NpfHUXZS7y.jpg)
![QQ截图20200918203113.jpg](https://i.loli.net/2020/09/18/OmDhPUtkoCbZywW.jpg)
## 计算机网络概念
网络包含计算机网络
计算机网络：一个将分散的、具有独立功能的**计算机系统**，通过**通信设备**与**线路**连接起来，由功能完善的**软件**实现资源共享和信息传递的系统
计算机网络是**互连**的、**自治**的计算机集合
互连：互联互通，计算机相互之间连通，能通信；自治：计算机之间不存在主从关系，不能彼此控制对方
## 计算机网络功能
1. 数据通信（最重要）
保证连通性
2. 资源共享（主要）
三大类：硬件资源共享；软件资源共享；数据资源共享
3. 分布式处理
多台计算机各自承担同一工作任务的不同部分
常见平台：Hadoop（大数据常用）
4. 提高可靠性
存在替代机，
5. 负载均衡
分布式处理达到的效果
## 计算机网络的组成
### 组成部分
1. 硬件：主机（端系统）、链路（例如光纤）、通信设备（路由器等）
2. 软件：安装在端系统上的应用软件
3. 协议（计算机网络的协议）：一系列规则和约定的集合
### 工作方式
1. 边缘部分：主机存在的部分、用户直接使用的；两种通信方式（C/S；P2P）
2. 核心部分：为边缘部分服务
### 功能组成
1. 通信子网：实现数据通信；各种传输介质、通信设备、相应网络协议组成
2. 资源子网：实现资源共享、数据处理；实现资源共享功能的设备和软件的集合
## 计算机网络的分类
### 按分布范围
1. 广域网：交换技术
2. 城域网
3. 局域网：广播技术
4. 个人区域网
### 按使用者
1. 公用网
2. 专用网
### 按交换技术
1. 电路交换
2. 报文交换
3. 分组交换
### 按拓扑结构
1. 总线型
2. 星型
3. 环型
4. 网状型（常用于广域网）
### 按传输技术
1. 广播式网络：共享公共通信信道
2. 点对点网络：使用分组存储转发和路由选择机制
## 标准化工作
### 标准分类
1. 法定标准：由权威机构指定的正式的、合法的标准（OSI）
2. 事实标准：产品长期占据主流，产品中的协议进而技术（TCP/IP）
### RFC因特网标准形式
上升成为因特网正式标准的四个阶段
1. 因特网草案
2. 建议标准：正式成为RFC文档
3. 草案标准
4. 因特网标准
### 标准化相关组织
1. ISO ：国际化标准组织
2. ITU：国际电信联盟
3. IEEE：国际电气电子工程师协会
4. IETF：Internet工程任务组
## 计算机网络性能
### 速率
速率即数据率或数据传输率或比特率
比特：数据量的单位
速率：连接在计算机网络的主机在数字信道上传送数据位数的速率
速率单位的换算是10^3，但存储容量是2^10=1024
存储容量中1Byte（字节）= 8bit（比特）
### 带宽
带宽原本指某个信号具有的频带宽度，即最高频率与最低频率只差，单位是赫兹
在计算机网络中，带宽用来表示网络的通信线路传送数据的能力
通常指单位时间内从网络中某一点到另一点所能通过的“最高数据率”
单位是比特每秒，b/s
带宽是网络设备所支持的最高速度
### 吞吐量
单位时间内通过某个网络的数据量，单位b/s
吞吐量手网络的带宽或网络的额定速率的限制
### 时延
指数据从网络的一端传送到另一端所需要的时间，也叫延迟或迟延。单位是s
时延分成4大类
1. 发送时延（传输时延）：发送分组的第一个比特算起，到改分组的最后一个比特发送完毕所需的时间
发送时延=数据长度/信道带宽（发送速率）
2. 传播时延：电磁波在信道中传播一定距离花费的时间
取决于电磁波传播速度和链路长度
传播时延=信道长度/电磁波在信道上的传播速率
3. 排队时延：等待输出、输入链路中花费的时间
4. 处理时延：主机或路由器在收到分组时花费的时间
### 时延带宽积
时延带宽积（bit） = 传播时延（s） * 带宽（b/s）
描述数据量、信息量的性能属性
以比特为单位的链路长度，链路数据容量
### 往返时延RTT
从发送方发送数据开始（第一个比特位发送），到发送发收到接收方的确认（第一个比特确认），急售房收到数据后立即发送确认，总工经历的时延
RTT越大，在收到确认之前，可以发送的数据越多
RTT = 2*传播时延+末端处理时间
### 利用率
1. 信道利用率 = 有数据通过的时间/（有+无）数据通过时间
2. 网络利用率 = 信道利用率加权平均值
## 分层结构
### 分层的基本原则
服务：每两层之间提供的东西，上层是使用下层服务，下层为上层服务
分层的基本原则：
1. 各层之间相互独立，每层只实现一种相对独立的功能
2. 每层之间的界限自然清晰，易于理解，相互交流尽可能少
3. 结构上可分割开。每层都采用最适合的技术来实现
4. 保持下层对上层的独立性，上层单向使用下层提供的服务
5. 整个分层结构应该能促进标准化工作
### 分层中的概念
1. 实体：第n层中的活动元素称为n层实体
2. 对等实体：同一层的实体
3. 协议：对进行网络中的对等实体数据交换而建立的规则、标准或约定（水平的）
协议三要素：语法（传输数据的格式）；语义（规定所要完成的功能）；同步（规定各种操作顺序）
4. 接口（访问服务店SAP）：上层使用下层服务的入口
5. 服务：下层为响铃上层提供的功能调用（单向、垂直）
6. SDU（服务数据单元）：为完成用户所要求的的功能而应传送的数据
7. PCI（协议控制信息）：控制协议操作的信息
8. PDU（协议数据单元）：对等层次之间传送的数据单元
9. 计算机网络体系结构是计算机网络的各层及其协议的集合
## 计算机网络分层结构
### OSI参考模型
法定标准；7层（物联网淑惠试用）
目的：支持异构网络体系的互联互通
自下而上：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层
通信子网（数据通信）：物理层、数据链路层、网路层
资源子网（数据处理）：应用层、表示层、会话层
#### 应用层
用户与网络的界面，所有能和用户交互产生网络流量的程序
常见应用层服务：文件传输（FTP）、电子邮件（SMTP）、万维网（HTTP）
#### 表示层
用于处理再两个通信系统中交换信息的表示方式（语法和语义）
功能：
1. 数据格式变换
2. 数据加密解密
3. 数据压缩和恢复
#### 会话层
像表示层实体/用户进程提供简历连接并在连接上有序地传输数据，会话，也是建立同步
会话之间彼此独立互不影响
功能：
1. 建立、管理、终止会话
2. 使用校验点可使会话在通信失效时从校验点（同步点）继续恢复通信，实现数据同步
主要协议：ADSP、ASP
#### 传输层
负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据报
功能：
1. 可靠传输（有确认机制）、不可靠传输
2. 差错控制
3. 流量控制
4. 复用分用
主要协议：TCP、UDP
#### 网络层
把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务
网络层的传输单位是数据报
功能：
1. 路由选择
2. 流量控制
3. 差错控制
4. 拥塞控制
主要协议：IP、IPX等
#### 数据链路层
把网络层传下来的数据报组装成帧
传输单位：帧
功能：
1. 成帧（定义帧的开始和结束）
2. 差错控制（帧错、位错）
3. 流量控制
4. 访问（接入）控制，控制对信道的访问
主要协议：SDLC、HDLC、PPP、STP
#### 物理层
物理媒体上实现比特流的透明传输
传输单位：比特
透明传输：不管所传数据是怎样的比特组合都应当能在链路上传送
功能：
1. 定义接口特性
2. 定义传输模式
3. 定义传输速率
4. 比特同步
5. 比特编码
主要协议：Rj45、802.3
### TCP/IP参考模型
事实标准；4层
#### 网络接口层
HTTP、FTP、DNS
#### 网际层
**TCP**、UDP
#### 传输层
**IP**、IP
#### 应用层
Ethernet、ATM、Frame Relay
#### 与OSI的异同
相同点：
1. 都分层
2. 基于独立的协议栈的改线
3. 可以实现异构网络互联
不同点：
1. OSI定义三点：服务、协议、接口
2. OSI先出现，参考模型先于协议发明，不偏向特定协议
3. TCP/IP设计之初就考虑到异构网互联问题，将IP作为重要层次
4. 连接方式：TCP/IP特别看重异构网互联，所以网络层为无连接，而不是面向连接
PS：面向连接（有确认过程的信息传输），无连接（直接传输）
### 5层参考模型
综合了OSI和TCP/IP的有点
#### 应用层
支持各种网络应用
#### 传输层
进程-进程的数据传输
#### 网路层
源主机到目的主机的数据分组路由与转发
#### 数据链路层
把网络层传下来的数据报组装成帧
#### 物理层
比特传输
![QQ截图20200920121251.jpg](https://i.loli.net/2020/09/20/oUgH9NATh4PCOLY.jpg)

# 物理层
1. 通信基础
2. 两个公式lim
3. 看图说话
4. 传输介质
5. 物理层设备
## 物理层基本概念
1. 物理层解决如何在连接各种计算机的传输媒体上**传输数据比特流**，而不是指具体的传输媒体
2. 物理层主要任务：确定与传输媒体接口有关的一些特性
3. 机械特性：定义物理接连的特性
4. 电气特性：规定传输二进制位时，线路上信号的电压范围、阻抗匹配、传输速率和距离限制等
5. 功能特性：指明某条线上出现的某一电平表示何种意义，接口部件的信号线的用途
6. 过程特性：定义各条物理线路的工作规程和时序关系
## 数据通信基础知识
1. 通信目的：传送消息
2. 数据：传送信息的实体，通常是有意义的符号序列
3. 信号：数据的电器/电磁的表现，是数据在传输过程中的存在形式
    * 数字信号：代表消息的参数取值是离散的
    * 模拟信号：代表信息的参数取值是连续的
4. 信源：产生和发送数据的源头
5. 信宿：接受数据的终点
6. 信道：信号的传输媒介
7. 三种通信方式：单工通信、半双工通信（不能同时发收）、全双工通信
8. 两种数据传输方式：串行传输（速度慢、费用低、适合远距离）、并行传输（速度快、费用高、适合近距离）
## 码元
1. 码元：一个固定时长的信号波形，代表不同离散数值的基本波形，是阿虎I通信中数字信号的计量单位
2. 码元宽度：码元的时长
3. 当码元的离散状态有M个时，称为M进制码元
4. 1码元可以携带多个比特的信息量
## 速率、波特、带宽
1. 速率也叫数据率，指数据的传输速率，代表单位时间内容传输的数据量
2. 可以用码元传输速率和信息传输速率表示
3. 码元传输速率：1s传输多少码元，表示单位时间内数字通信系统所传输的码元个数（脉冲个数、信号变化次数）。又称码元速率、波形速率、调制速率、符号速率。单位波特（Baud）
4. 信息传输速率：1s传输多少比特，表示单位时间内容数字通信系统传输的二进制码元个数（比特数）。又称信息速率、比特率。单位是比特/秒（b/s）
5. 带宽：表示带单位时间内从网络中的某一点到另一点所能通过的“**最高数据率**”
## 奈氏准则和香农定理
1. 影响失真程度的因素：码元传输速率；信号传输距离；噪声干扰；传输媒体质量
2. 信道带宽：信道能通过的最高频率和最低频率之差
3. 码间串扰：接收端收到的信号波形失去了码元之间清晰界限的现象
4. 奈氏准则给出了码元传输速率的限制，但没有对信息传输速率给出限制
5. 香农定理：在带宽受限且有噪声的信道中，为了不产生误差，信息的传输速率有上限值
## 编码与调制
### 系带信号与宽带信号
1. 基带信号：将数字信号用两种不同的电压表示送到数字信道上传输（基带传输）
2. 宽带信号：将基带信号进行调制后形成的频分复用模拟信号，再传送到模拟信号上去传输（宽带传输）
## 编码
数据变为数字信号
### 数字数据编码为数字信号
1. 非归零编码（NRZ）
2. 曼切斯特编码
3. 差分曼切斯特编码
### 模拟数据编码为数字信号
1. PCM：抽样、量化、编码
## 调制
数据变为模拟信号
### 数字数据调制为模拟信号
1. ASK(调幅)
2. FSK(调频)
3. PSK(调相)
4. QAM(调幅+调相)
### 模拟数据调制为模拟信号
## 物理层传输介质
传输介质：数据传输系统中在发送设备和接受设备之间的物理通路，也称传输媒体/传输媒介
### 导向性传输介质
1. 双绞线，绞合可以减少对相邻导线的电磁干扰
2. 同轴电缆
3. 光纤
### 非导向性传输介质
1. 无线电波
2. 微波
3. 红外线、激光
## 物理层设备
### 中继器
对信号进行再生和还原，再生数字信号
5-4-3规则：最多5个网段、最多4个物理层设备、最多挂3个计算机
### 集线器（多口中继器）
对信号进行放大转发，再生，放大信号
不具备信号的定向传送能力，是一个共享性设备

# 数据链路层
1. 链路层的功能
2. 链路层的两种信道
3. 局域网、广域网
4. 链路层的设备
## 数据链路层概述
### 数据链路层基本概念
1. 结点：主机、路由器
2. 链路：网络中两个结点之间的物理通道，链路的传输介质主要是双绞线、光纤和微波。分为有限链路、无线链路
3. 数据链路：网络中两个结点之间的逻辑通道，把实际控制数据传输协议的硬件和软件加到链路上就构成数据链路
4. 帧：链路层的协议数据单元，封装网络层数据报
5. 数据链路层负责通过一条链路从一个结点向两一个物理链路直接连接的相邻结点传送数据报
### 数据链路层功能概述
数据链路层在物理层提供服务的基础上**向网络层提供服务**，其最基本的服务是将源自网络层来的数据*可靠*地传输到相邻结点的目标机网络层。其主要作用是**加强物理层传输原式比特流的功能**，将物理层提供的可以出错的物理连接改造成为*逻辑上无差错的数据链路*，使之对网络层表现为一条无差错的链路
1. 为网络层提供服务：无确认无连接服务、有确认无连接服务、有确认面向服务（有连接一定有确认）
2. 链路管理，即连接的建立、维持、释放（用于面向连接的服务）
3. 组帧
4. 流量控制
5. 差错控制
## 封装成帧
1. 封装成帧：在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束
2. 首部和尾部包含许多控制信息，他们的一个重要作用：**帧定界**（确定帧的界限）
3. 帧同步：接收方应该能从接收到的二进制比特流中区分出帧的起始和终止
4. 数据链路层的帧长：帧首部到帧尾部的距离
5. 最大传送单元（MTU）：帧的数据部分的最大长度
6. 组帧方法：①字符计数法；②字符（节）填充法；③零比特填充法；④违规编码法
7. 透明传输：不管所传数据是什么样的比特组合，都应当能够在链路上传送
### 字符技术法
帧首部使用一个计数字段（第一个字节，八位）来标明帧内字符数
首部一旦发生错误，后面全部无法识别
### 字符填充法
在发送端添加转义字符，在接收端把转义字符删掉，实现透明传输
### 零比特填充法
1. 在发送端，扫描整个信息字段，只要连续5个1，就立即填入1个0
2. 在接收端收到一个帧时，先找到标志字段确定边界，再用硬件对比特流进行扫描。发现连续5个1时，就把后面的0删除
保证了透明传输
### 违规编码法
用两个编码中不会用到的电平方式来标志帧的起始和终止
## 差错控制
### 差错
#### 差错的来源
传输中的差错都是由于噪声引起的
1. 全局性噪声：由于线路本身电气特性所产生的所及噪声（热噪声），是信道固有的，随机存在的
    解决方法：提高信噪比来减少或避免干扰（调整传感器）
2. 局部性噪声：外界特定的断站原因所造成的冲击噪声，是产生差错的主要原因
    解决办法：通常利用编码技术来解决
#### 差错的分类
1. 位错：比特位出错，1变成0、0变成1
2. 帧错：帧丢失；帧重复；帧失序
### 检错编码
#### 奇偶校验码
由n-1位信息元和1位校验元组成
1. 奇校验码：n个比特有奇数个1
2. 偶校验码：n个比特有偶数个1
只能检查出奇数个比特错误，检错能力为50%
#### CRC循环冗余码
最终发送的数据：要发送的数据+帧检验序列FCS（冗余码）
计算冗余码：
    1. 加0：加生成多项式阶个0
    2. 模2除法：数据加0后处于多项式，余数为冗余码/FCS/CRC检验码的比特序列（异或） 
### 纠错编码
1. 海明码：可以发现双比特错，但只能纠正单比特错
2. 工作原理：动一发而牵全身
#### 海明码工作流程
1. 确定校验码位数r
    海明不等式：2^r>=k+r+1(r:冗余信息位、k：信息位)
2. 确定校验码和数据的位置
    校验码只能存在在2的几次方的位置，数据按照剩下的位置按序填写
3. 求校验码的值
    把数据为变化成二进制位，二进制的位数由数据位最大的位数决定
    校验码校验的位置是该校验码1位置一致的位
    校验码的实际值与所有要校验位的实际值异或为0
4. 检错并纠错
    求出每个校验码与所要校验位的异或
    从最后校验码的异或网最前写，得出的二进制数就是出错的位置
## 流量控制与可靠传输
1. 由于较高的发送速度和较低的接受能力的不匹配会造成传输出错，所以流量控制室数据链路层的重要工作
2. 数据链路层的流量控制是点对点；传输层的流量控制是端对端的
3. 数据链路层流量控制手段：接收方收不下就不回复确认
4. 传输层流量控制手段：接收端给发送端一个窗口公告
### 停止——等待协议
1. 没发送完一个帧就停止发送，等待对方的确，在收到确认后再发送下一个帧
2. 发送窗口大小=1；接受窗口大小=1
3. 停止——等待协议目的：解决底层信道出现的丢包问题
    丢包问题：物理线路故障、设备故障、病毒攻击、路由信息错误等原因，会导致数据报的丢失
4. 停止——等待协议应用情况：无差错情况；有差错情况
#### 停止——等待协议关键点
1. 超时计时器：每发送一个帧就启动一个计时器，计时器到时还未接收到ACK就会重传刚刚未收到确认的帧（**自动重传**）
2. 数据帧与确认帧必须编号
3. 接收方如果重复收到编号相同的帧，就丢弃重复帧并重传该帧的确认帧
4. 发送方如果重复收到编号相同的确认帧，就丢弃重复的确认帧不作处理
#### 停止——等待协议性能
1. 简单
2. 信道利用率太低
### 滑动窗口协议
1. 发送窗口：发送方维持一组连续的允许发送的帧的序号
2. 接受窗口：接受方维持一组持续的允许接受帧的序号
#### 后退N帧协议（GBN）
1. 发送窗口大小>1；接受窗口大小=1
2. 发送方把数据分成：发完被确认的、已经发送等待确认的、还能发送的、还不能发送的
3. 滑动窗口长度小于2^n-1（n：帧编号的比特位数）
##### GBN发送方响应
1. 上层调用：检查发送窗口是否已满（实际上发送方可以缓存数据）
2. 收到ACK：累积确认，接受n号帧标明接收方收到n号帧及之前的全部帧
3. 超时事件：出现超时发送方重传所有已发送但未确认的帧
##### GBN接收方响应
1. 正确接收：为n号帧发送一个ACK，代表n号帧之前的所有帧都接受完毕
2. 其余情况：全部丢弃，为最近安序接收的帧重新发送ACK
##### GBN性能
1. 因连续发送数据帧而提高了信道利用率
2. 重传时必须把原来已经正确传送的数据帧重传，传送效率低
#### 选择重传协议（SR）
1. 发送窗口大小>1；接受窗口大小>1
2. 设置单个确认，同时加大接收窗口，设置接收缓存，缓存乱序到达的帧
3. 发送方把数据分成：发完被确认的、已经发送等待确认的、还能发送的、还不能发送的
4. 接收方把数据分成：已经接受完并返回确认的、希望收到但没收到的、收到且确认的（缓存）、等待接受的、还无法接收的
5. 滑动窗口大小最大为2**（n-1）
##### SR发送方响应
1. 上层调用
2. 收到ACK
    + 收到在帧序号窗口内的ACK，将帧标记为已接收
    + 标记已接收的帧序号是窗口下界，则窗口向前移动到具有最小序号的未确认帧处
3. 超时事件：每个帧都有独立计时器，超时后只重传一个帧
##### SR接收方响应
来者不拒（窗口的帧）
1. 正确接收：确认一个在窗口内的帧而不用管其是否按序，失序的帧将被缓存，并返回该帧的的确认帧，只表示该帧被接受
2. 窗口滑动：处于窗口下界的帧被接收时，向前滑动窗口至具有最小序号的未确认帧处
3. 其余情况：忽略该帧、返回该帧的ACK
##### SR重点
1. 对数据帧逐一确认，收到一个确认一个
2. 只重传错误帧
3. 接收方有缓存
## 可靠传输、滑动窗口、流量控制
1. 可靠传输：发送端发啥，接收端收啥
2. 流量控制：控制发送速率，使接收方有足够的缓冲空间来接受每个帧
3. 滑动窗口：
    + 流量控制：收不下就不给确认，控制发送
    + 可靠传输：发送端自动重传
## 介质访问控制（MAC协议）
1. 传输数据使用的两种链路
    + 点对点链路：两个相邻节点通过一个链路相连，没有第三者。（PPP协议、广域网）
    + 广播式链路：所有主机共享通信介质（局域网）
2. 介质访问控制：采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况
### 静态划分信道
1. 信道划分介质访问控制：将受用介质的每个设备与来自同意信道上的其他设备的通信隔离开，把时域和频域合理地分配给网络上的设备
2. 多路复用技术：把多个型号组合在一条物理信道上进行传输，使得多个计算机或终端设备共享信道资源，提高信道利用率
#### 频分多路复用FDM
1. 用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带
2. 频分复用的所有用户在同样的时间占用不同的带宽（频率带宽）资源
3. 优点：
    + 充分利用传输介质带宽，效率较高
    + 技术比较成熟，实现比较容易
#### 时分多路复用TDM
1. 将时间划分成一段段登场的时分复用帧（TDM帧）
2. 每一个时分复用的用户在每一个TDM帧中占用固定序号的时隙，所有用户轮流占用信道
3. TDM帧是在物理层传送的比特流所划分的帧，标志一个周期
4. 统计时分复用STDM：
    + 每个STDM帧时隙数小于连接在集中器上的用户数
    + 各用户有了数据就随时发送集中器的输入缓存，然后集中器按顺序依次扫描输入缓存，把缓存发出
    + 不固定分配时隙，而是按需动态分配时隙
#### 波分多路复用WDM
1. 波分多路复用：本质就是光的频分多路复用，在一根光线中传输多种不同波长（频率）的光信号，由于波长不同，所以各路光信号互不干扰，最后再用波长分解复用器将各路波长分解出来
#### 码分多路复用CDM
1. 码分多址（CDMA）是码分复用的一种方式
2. 将一个比特分为多个码片/芯片（chip），每个站点被指定一个唯一的m位的芯片序列
3. 发送1时发送芯片序列；发送0时发送芯片序列的反码
4. 不干扰：多个站点同时发送数据时，各个站点芯片序列相互正交
5. 合并：各路数据在信道中被线性相加
6. 分离：合并的数据和远战 规格化内积
### 动态分配信道
1. 特点：信道并非在用户通信时固定分配给用户
#### 轮询访问介质访问控制
既不产生冲突，又要发送时占全部带宽
##### 轮询协议
1. 主结点轮流“邀请”从属结点发送数据
2. 问题：
    + 轮询开销
    + 等待延迟
    + 单点故障
##### 令牌传递协议
1. 令牌：
    + 一个特殊格式的MAC控制帧，不包含任何信息。
    + 可以控制信道的使用，确保同一时刻只有一个结点独占信道
2. 问题：
    + 令牌开销
    + 等待延迟
    + 单点故障
3. 应用于令牌环网（物理星型拓扑，逻辑环形拓扑）
4. 常用于负载较重、通信量较大的网络中
#### 随机访问介质访问控制
1. 所有用户可随机发送信息
2. 发送信息时占全部带宽
##### ALOHA协议
1. 纯ALOHA协议比时隙ALOHA协议吞吐量低，效率更低
2. 纯ALOHA想法就发，时隙ALOHA协议只有在时间片段开始时才能发
###### 纯ALOHA协议
1. 思想：想发就发，不监听信道，不按时间槽发送，随机重发
2. 冲突检测：接收方检测出差错不予确认，发送方在一定时间内收不到就判断发生冲突
3. 冲突解决：超时后等一随机时间重传
###### 时隙ALOHA协议
1. 思想：把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道，若发生冲突，则必须等到下一个时间片开始时刻再发送
##### CSMA协议
载波监听多路访问协议
1. CS：载波监听，每个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据
2. MA：多点接入，表示许多计算机以多点接入的方式连接在一根总线上
3. 协议思想：发送帧之前，监听信道
4. 监听结果
    + 信道空闲：发送完整帧
    + 信道忙：推迟发送
###### 1-坚持CSMA
1. 坚持：对于监听信号忙后的坚持
2. 思想：
    + 如果一个主机要发送消息，那么它先监听信道
    + 空闲则直接传输，不必等待
    + 忙则一直监听，指导空闲马上传输
    + 如果冲突：等待一个随机场的时间再监听，重复上述过程
3. 优点：只要媒体空闲，站点就马上发送，媒体利用率高
4. 缺点：假如有两个或两个以上的站点有数据要发送，冲突不避免
###### 非坚持CSMA
1. 非坚持：对于监听信道忙之后就不继续监听
2. 思想：
    + 如果一个主机要发送消息，那么它先监听信道
    + 空闲则直接传输，不必等待
    + 忙则等待一个随机的时间之后再进行监听
3. 优点：采用随机的重发延迟时间可以减少冲突发生的可能性
4. 缺点：可能存在大家都在延迟等待过程中，媒体利用率低
###### p-坚持CSMA
1. p-坚持：对监听信道空闲的处理
2. 思想：
    + 如果一个主机要发送消息，那么它先监听信道
    + 空闲则以p概率直接传输，不必等待；概率1-p等待到下一个时间槽再传输
    + 忙则等待下一个时间槽再进行监听
3. 优点：既能像非坚持减少冲突，又能像1-坚持减少媒体空闲时间
4. 缺点：发生冲突后还是坚持把数据帧发送完，造成了浪费
##### CSMA/CD协议
载波监听多点接入/碰撞检测协议
1. CS：载波监听，每个站在发送数据之前以及**发送数据时**要检测一下总线上是否有其他计算机在发送数据
2. MA：多点接入，表示许多计算机以多点接入的方式连接在一根总线上（应用于以太网）
3. CD：碰撞检测（冲突检测），“边发送边监听”，适配器边发送数据边检测信道上信号电压的变化情况，以判断自己在发送数据时其他站是否也在发送数据（应用于半双工网络）
4. 只要经过2τ时间还没有检测到碰撞就能肯定这次发送不会发生碰撞
5. 截断二进制指数规避算法：
    + 确定基本退避（推延）时间为征用期2τ
    + 定义参数k，k=min(重传次数，10)
    + 从离散的整数集合[ 0,1,2**k-1]中随机取出一个数r，重传所需退避时间为r被的基本退避时间
    + 当重传达到16次仍不能成功，说明网络太拥挤，认为此帧永远无法正确发出，抛弃此帧并向高层报告错误
6. 最小帧长=总线传播时延 * 数据传输速率 * 2
##### CSMA/CA协议
载波监听多点接入/碰撞避免
1. 应用于无线局域网，CD无法全面检测碰撞
2. 工作原理：
    + 发送数据前，先检测信道是否空闲
    + 空闲则发出RTS；忙则等待
    + 接收端收到RTS，将响应CTS
    + 发送端收到CTS后，开始发送数据帧。同时预约信道（发送端告知其他站点自己要传多久数据）
    + 接收端收到数据帧后，用CRC来检验数据是否正确，正确则响应ACK帧
    + 发送方收到ACK就可以进行数据帧发送；若没有则一致重传到规定重发次数为止（截断二进制指数规避算法）
3. 重点：
    + 预约信道
    + ACK帧
    + RTS/CTS帧（可选）